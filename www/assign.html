<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assign Scouters</title>
    <style>
        
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
            vertical-align: middle;
            color: rgb(0, 0, 0);
            font-weight: 500;
        }


        
    </style>
    <link rel="stylesheet" href="main.css">
</head>
<body style="padding: 20px;font-size: small; direction: ltr;">
<div class="button-style" style="font-size: 1.5cm; text-align: center; font-family: Arial, Helvetica, sans-serif; color: var(--text); ">
    <form method="post" enctype="multipart/form-data">
        <label for="file" class="titan">Input File</label><br>
        <input type="file" name="content" accept=".csv" id="file" style="display: none;" hidden required/>
        <input type="submit" value="Update" style="font-size: large; height: 1cm;">
        
    </form>
    <button class="blue-button" onclick="download()">Download</button>
</div>
<table style="width:100%; margin: 30px 0 0 0;" dir="ltr">
    <colgroup>
        <col span="2" style="background-color: rgb(219, 219, 219)">
        <col span="4" style="background-color: #fd8383">
        <col span="4" style="background-color: #8e82ff">
    </colgroup>
    <tr>
        <th class="grey-dag">Match</th>
        <th class="grey-dag">Cube</th>
        <th class="red-dag">Red Team 1</th>
        <th class="red-dag">Scouter</th>
        <th class="red-dag">Red Team 2</th>
        <th class="red-dag">Scouter</th>
        <th class="blue-dag">Blue Team 1</th>
        <th class="blue-dag">Scouter</th>
        <th class="blue-dag">Blue Team 2</th>
        <th class="blue-dag">Scouter</th>
    </tr>
   ${DATA}
</table>
</body>
<script>
    const downloadElement = document.createElement('a');
    downloadElement.hidden = true;
    function download() {
        let http = new XMLHttpRequest();
        http.open("GET", "assign.html", null);
        http.setRequestHeader("Content-Type", "text/csv");
        http.send();

        downloadElement.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(http.responseText));
        downloadElement.setAttribute('download', 'assign.csv');

        document.body.appendChild(downloadElement);
        downloadElement.click();
        document.body.removeChild(downloadElement);
    }
</script>
</html>